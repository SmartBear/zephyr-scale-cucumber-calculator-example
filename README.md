# Zephyr Scale Cucumber Integration Calculator Example

This is an example project on how to use the integration of
[Zephyr Scale](https://marketplace.atlassian.com/apps/1213259/zephyr-scale-test-management-for-jira)
and automated tests when using Cucumber.

The integration is based on the JSON output files generated by Cucumber, so this output option needs to be
configured properly.

For more information about this example, please check out this [blog post](https://www.adaptavist.com/blog/an-essential-guide-to-agile-testing-with-bdd-inside-jira/)

For detailed information about how to integrate Zephyr Scale with Jenkins using BDD, please check out the documentation
for [Zephyr Scale Server](https://support.smartbear.com/zephyr-scale-server/docs)
or [Zephyr Scale Cloud](https://support.smartbear.com/zephyr-scale-cloud/docs)

Should you need any support from the Smartbear team for configuring or using Zephyr Scale, please get in touch with us
through [our support portal](https://support.smartbear.com/zephyr-scale).

## Usage

Firstly, the JSON output format for Cucumber needs to be configured on the TestRunner class:
```
@RunWith(Cucumber.class)
@CucumberOptions(
        features = "src/test/resources/calculatorFeatures"
        ,glue={"com/adaptavist/tm4j/examples/cucumber/calculator"}
        ,plugin = {"json:target/cucumber/calculator.json"}
)
public class TestRunner {

}
```

The next step is to have a BDD test case in Zephyr Scale with the following test scenario:
```
Given a calculator I just turned on
When I input the number <a>
And I input the number <b>
And I press the multiplication button
Then I should see the result <c> on the calculator display

Examples:
| a  | b  | c   |
| 12 | 5  | 60  |
| 20 | 5  | 100 |
```

Now, you can use the REST API of Zephyr Scale ([Cloud API](https://support.smartbear.com/zephyr-scale-cloud/api-docs/)
or [Server API](https://support.smartbear.com/zephyr-scale-server/api-docs/)),
or use the [Zephyr Scale Jenkins plugin](https://plugins.jenkins.io/tm4j-automation) to download features files from Zephyr Scale.
Once the feature files are downloaded to the same directory configured on the `TestRunner`, they can be executed.
Optionally, the test results can be pushed back to Zephyr Scale.
